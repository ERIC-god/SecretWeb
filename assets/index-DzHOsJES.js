import{d as y,F as i,v as z,E as d,a as C,b as R,_ as V,c as j}from"./vee-validate-DxuEB4qC.js";import{u as P}from"./request-B6Dzic8e.js";import{r,w as S,a as k,e,m as B,h as F,f as l,g as U,i as s,j as E,R as H,l as N,b as x,Q as q}from"./index-JqDeAB-5.js";import"./_commonjsHelpers-Cpj98o6Y.js";const L={class:"h-screen w-screen flex justify-center bg-zinc-700"},M={class:"h-full w-[400px] xl:w-[25%]"},T={class:"w-full h-52 bg-zinc-300 rounded shadow-md relative"},W={class:"flex items-center justify-center h-9 text-xl"},A={class:"h-4 w-[80%]"},Q={class:"flex items-center justify-center h-9 text-xl"},$={class:"h-4 w-[80%] border-b"},D={class:"flex items-center justify-center h-9 text-xl"},G={class:"h-4 w-[80%] border-b"},I={class:"w-full h-8 mt-3 flex items-center justify-center"},Z={__name:"index",setup(J){const p=r("");S(()=>p.value,f=>{console.log(f)});const n=P(),v=E(),m=H(),a=r(!1);y("validateConfirmPassword",j);const b=()=>{a.value=!0},w=()=>{a.value=!1},h=()=>{a.value=!1,_()},u=r(!1),o=r({username:"",password:""}),_=async()=>{u.value=!0;try{console.log(m.query),await n.userRegister({...o.value,...m.query}),await n.userLogin({...o.value,loginType:"username"})}finally{u.value=!1}v.push("/"),n.userProfile(),q("success","Register success and Login success!",4e3)};return(f,t)=>{const g=N("m-button");return x(),k("div",L,[e("div",M,[t[3]||(t[3]=e("div",{class:"h-16 w-full flex items-center justify-center"},[e("span",{class:"text-zinc-300 absolute top-[4%] xl:top-[6%] text-center"},"Welcome To A Secret Man's WebSite")],-1)),e("div",T,[t[2]||(t[2]=e("div",{class:"flex items-center justify-center h-8 text-xl"},[e("span",null,"Register")],-1)),l(s(R),{onSubmit:b},{default:U(()=>[e("div",null,[e("div",W,[e("div",A,[l(s(i),{type:"text",name:"username",placeholder:" 请输入注册的用户名",autocomplete:"on",rules:s(z),modelValue:o.value.username,"onUpdate:modelValue":t[0]||(t[0]=c=>o.value.username=c),class:"h-full w-full text-xm outline-0 bg-zinc-300 border-b border-b-zinc-400"},null,8,["rules","modelValue"])])]),l(s(d),{class:"text-xm text-red-600 absolute left-[10%] top-[29%]",name:"username"})]),e("div",null,[e("div",Q,[e("div",$,[l(s(i),{type:"password",name:"password",placeholder:"请输入密码",modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=c=>o.value.password=c),class:"h-full w-full text-xm outline-0 bg-zinc-300 border-b border-b-zinc-400",autocomplete:"on",rules:s(C)},null,8,["modelValue","rules"])])]),l(s(d),{class:"text-xm text-red-600 absolute left-[10%] top-[47%]",name:"password"})]),e("div",null,[e("div",D,[e("div",G,[l(s(i),{type:"password",placeholder:"请再次输入您的密码",autocomplete:"on",name:"confirmPassword",class:"h-full w-full text-xm outline-0 bg-zinc-300 border-b border-b-zinc-400",rules:"validateConfirmPassword:@password"})])]),l(s(d),{class:"text-xm text-red-600 absolute left-[10%] top-[63%]",name:"confirmPassword"})]),e("div",I,[l(g,{icon:"hacker",class:"!h-4 !w-20 !text-zinc-200 !text-xl dark:!bg-zinc-400 !rounded hover:!bg-zinc-600 !bg-zinc-200",loading:u.value},null,8,["loading"])])]),_:1})])]),a.value?(x(),B(V,{key:0,onClose:w,onSuccess:h})):F("",!0)])}}};export{Z as default};
