import{r as g,w as L,a as u,b as i,I as k,J as w,a6 as H,a7 as I,a8 as E,l as h,e as n,f as s,t as b,a9 as M,h as C,y as j,i as z,g as f,m as $,v as A,x as N,j as T,k as S,aa as U,ab as B,ac as R,_ as F}from"./index-JqDeAB-5.js";import{b as G,c as Y}from"./pexels-CfjjNSOV.js";import{c as D}from"./index-CVNPH1-B.js";import{r as q,u as J}from"./color-ClbSPdw4.js";import{u as K}from"./request-B6Dzic8e.js";import{p as P,j as W}from"./profile-culUYv3C.js";import"./index-BiMaLGkf.js";import"./index-CjzYBY3Q.js";import"./_commonjsHelpers-Cpj98o6Y.js";const O=["innerHTML","onClick"],Q={__name:"hint",props:{searchText:{type:String,Required:!0}},emits:["itemClick"],setup(a,{emit:l}){const o=a,e=l,r=g([]),c=H(async()=>{if(!o.searchText)return;const d=await G(o.searchText);r.value=d.result},800);L(()=>o.searchText,()=>{c()});const _=d=>{e("itemClick",d)},m=d=>{const v=`<span class="text-zinc-900 dark:text-zinc-200">${o.searchText}</span>`,p=new RegExp(o.searchText,"gi");return d.replace(p,v)};return(d,v)=>(i(),u("div",null,[(i(!0),u(k,null,w(r.value,(p,x)=>(i(),u("div",{innerHTML:m(p),onClick:y=>_(p),key:x,class:"py-1 pl-1 text-base font-bold text-zinc-500 rounded cursor-pointer duration-300 hover:bg-zinc-200 dark:hover:bg-zinc-900"},null,8,O))),128))]))}},V=I("search",()=>{const a=g([]);return{searchList:a,itemClick:(t,c)=>{a.value.includes(t)?(a.value.splice(c,1),a.value.unshift(t)):a.value.push(t)},itemDelete:(t,c)=>{a.value.splice(c,1)},allItemDelete:()=>{a.value=[]},itemSearch:async t=>{a.value=a.value.filter(c=>c!==t),a.value.unshift(t)}}},{persist:!0}),X={class:"flex items-center text-xm mb-1 text-zinc-400"},Z={class:"flex flex-wrap"},ee=["onClick"],te={__name:"history",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(a,{emit:l}){const o=l,e=V(),r=g([]);r.value=e.searchList;const t=()=>{D("标题","你要删除所有记录吗","No!!","Yes!!").then(()=>{e.allItemDelete()}).catch(()=>{console.log("点击了No!!")}),r.value=e.searchList},c=(m,d)=>{e.itemDelete(m,d),r.value=e.searchList,o()},_=(m,d)=>{e.itemClick(m,d),o("update:modelValue",m),r.value=e.searchList};return E(()=>{r.value=e.searchList}),(m,d)=>{const v=h("m-svg-icon");return i(),u("div",null,[n("div",X,[d[0]||(d[0]=n("span",null,"最近搜素",-1)),s(v,{name:"delete",class:"w-2.5 h-2.5 ml-1 p-0.5 cursor-pointer duration-300 rounded-sm hover:bg-zinc-100",fillClass:"fill-zinc-400",onClick:t})]),n("div",Z,[(i(!0),u(k,null,w(r.value,(p,x)=>(i(),u("div",{class:"mr-2 mb-1.5 flex items-center cursor-pointer bg-zinc-100 px-1.5 py-0.5 text-zinc-900 text-xm font-bold rounded-sm duration-300 hover:bg-zinc-200",onClick:y=>_(p,x),key:x},[n("span",null,b(p),1),s(v,{name:"input-delete",class:"w-2.5 h-2.5 p-0.5 ml-1 duration-300 rounded-sm hover:bg-zinc-100",onClick:M(y=>c(p,x),["stop"])},null,8,["onClick"])],8,ee))),128))])])}}},ne={key:0,class:"flex h-[140px]"},oe=["src"],se={class:"absolute bottom-0 left-0 w-full h-[45%] flex items-center backdrop-blur rounded px-1 text-white text-xs duration-300 hover:backdrop-blur-none"},re={class:"flex flex-wrap flex-1 max-w-[860px]"},ce=["src"],le={class:"backdrop-blur absolute top-0 left-0 w-full h-full flex items-center px-1 rounded cursor-pointer duration-300 hover:backdrop-blur-none"},ie={__name:"theme",setup(a){const l=g({big:{},list:{}});return(async()=>{const{themes:e}=await Y();l.value={big:e[0],list:e.splice(1,e.length)}})(),(e,r)=>(i(),u("div",null,[r[0]||(r[0]=n("div",{class:"text-xs mb-1 text-zinc-400"},"热门精选",-1)),l.value.list.length?(i(),u("div",ne,[n("div",{class:"relative rounded w-[260px] cursor-pointer",style:j({backgroundColor:z(q)()})},[n("img",{src:l.value.big.photo,alt:"",class:"h-full w-full object-cover rounded"},null,8,oe),n("p",se,"#"+b(l.value.big.title),1)],4),n("div",re,[(i(!0),u(k,null,w(l.value.list,t=>(i(),u("div",{key:t.id,class:"h-[45%] w-[260px] text-white text-xs relative ml-1.5 mb-1.5 rounded"},[n("img",{src:t.photo,alt:"",class:"w-full h-full object-cover rounded"},null,8,ce),n("p",le,"#"+b(t.title),1)]))),128))])])):C("",!0)]))}},ae={class:"w-full"},ue={__name:"index",setup(a){const l=J(),o=V(),e=g(""),r=t=>{e.value=t,o.itemSearch(t),l.toggleSearchText(t)};return(t,c)=>{const _=h("m-search");return i(),u("div",ae,[s(_,{modelValue:e.value,"onUpdate:modelValue":c[1]||(c[1]=m=>e.value=m),onSearch:r},{dropdown:f(()=>[n("div",null,[e.value?(i(),$(Q,{key:0,searchText:e.value,onItemClick:r},null,8,["searchText"])):C("",!0),A(s(te,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=m=>e.value=m)},null,8,["modelValue"]),[[N,!e.value]]),s(ie)])]),_:1},8,["modelValue"])])}}},de={key:0,class:"flex items-center p-0.5 rounded-sm cursor-pointer duration-200 outline-none hover:bg-zinc-200 dark:hover:bg-zinc-900"},me={href:"http://baidu.com"},pe={key:1},he={key:0,class:"w-[140px] overflow-hidden"},_e=["onClick"],fe={class:"text-zinc-900 text-xm dark:text-zinc-300"},ve={__name:"header-my",setup(a){const l=T(),o=K(),e=[{id:0,title:"个人资料",icon:"profile",path:"/profile"},{id:1,title:"升级VIP",icon:"vip-profile",path:"/member"},{id:2,title:"退出登录",icon:"logout"}],r=()=>{l.push("/login")},t=c=>{c.id===2&&D("Are u want to Logout?").then(()=>{o.userLogout()}),c.id===0&&l.push("/profile"),c.id===1&&l.push("/member")};return(c,_)=>{const m=h("m-svg-icon"),d=h("m-button"),v=h("m-popover");return i(),$(v,{placement:"bottom-left"},{reference:f(()=>[z(o).token?(i(),u("div",de,[n("a",me,[s(m,{name:"hacker1",class:"h-4 cursor-pointer w-6"})]),s(m,{name:"down-arrow",class:"h-1.5 w-1.5 ml-0.5",fillClass:"fill-zinc-900 dark:fill-zinc-300"}),s(m,{name:"vip",class:"h-1.5 w-1.5 absolute right-[16px] bottom-0"})])):(i(),u("div",pe,[s(d,{icon:"profile",iconColor:"black",type:"info",onClick:r})]))]),default:f(()=>[z(o).token?(i(),u("div",he,[(i(),u(k,null,w(e,p=>n("div",{class:"flex items-center p-1 cursor-pointer rounded hover:bg-zinc-100/60 dark:hover:bg-zinc-800",key:p.id,onClick:x=>t(p)},[s(m,{class:"w-1.5 h-1.5 mr-1",name:p.icon,fillClass:"fill-zinc-900 dark:fill-zinc-300"},null,8,["name"]),n("span",fe,b(p.title),1)],8,_e)),64))])):C("",!0)]),_:1})}}},xe={class:"w-[140px] overflow-hidden"},ge=["onClick"],be={class:"text-zinc-900 text-xm dark:text-zinc-300"},ke={__name:"header-theme",setup(a){const l=[{id:"0",type:U,icon:"theme-light",name:"极简白"},{id:"1",type:B,icon:"theme-dark",name:"极夜黑"},{id:"2",type:R,icon:"theme-system",name:"跟随系统"}],o=S(),e=g(o.themeType),r=t=>{o.ChangeThemeType(t),e.value=o.themeType};return(t,c)=>{const _=h("m-svg-icon"),m=h("m-popover");return i(),u("div",null,[s(m,{placement:"bottom-left"},{reference:f(()=>[s(_,{name:e.value,class:"w-4 h-4 p-1 cursor-pointer rounded-sm duration-200 outline-none hover:bg-zinc-100/60 dark:hover:bg-zinc-900",fillClass:"fill-zinc-900 dark:fill-zinc-300"},null,8,["name"])]),default:f(()=>[n("div",xe,[(i(),u(k,null,w(l,d=>n("div",{class:"flex hover:bg-zinc-100/60 p-1 dark:hover:bg-zinc-800 cursor-pointer rounded items-center",key:d.id,onClick:v=>r(d)},[s(_,{name:d.icon,class:"w-1.5 h-1.5 mr-1",fillClass:"fill-zinc-900 dark:fill-zinc-300"},null,8,["name"]),n("span",be,b(d.name),1)],8,ge)),64))])]),_:1})])}}},we={class:"w-full bg-white dark:bg-zinc-800 border-b border-b-zinc-200 dark:border-b-zinc-700 px-2 py-1"},ze={class:"flex items-center"},Ce={__name:"index",setup(a){const l=T(),o=()=>{l.push("/")},e=S();return(r,t)=>{const c=h("m-svg-icon");return i(),u("div",we,[n("div",ze,[s(c,{name:z(e).themeType==="theme-light"?"hacker":"hacker2",class:"h-4 cursor-pointer w-6",onClick:o},null,8,["name"]),s(ue,{class:"mr-1"}),s(ke,{class:"mr-1"}),s(ve,{class:""})])])}}},ye={};function $e(a,l){const o=h("router-view");return i(),u("div",null,[s(o)])}const Te=F(ye,[["render",$e]]),Se={class:"fixed bottom-10 right-2"},De={class:"w-5 h-5 mb-1 bg-white dark:bg-zinc-900 border dark:border-0 hover:shadow-lg group border-zinc-200 rounded-full flex justify-center items-center cursor-pointer duration-200"},Ve={class:"w-[140px] overflow-hidden"},Le={class:"w-5 h-5 mb-1 bg-white dark:bg-zinc-900 border dark:border-0 hover:shadow-lg group border-zinc-200 rounded-full flex justify-center items-center cursor-pointer duration-200"},He={class:"w-[140px] overflow-hidden"},Ie={__name:"floating",setup(a){const l=()=>{window.open(P)},o=()=>{window.open(W)};return(e,r)=>{const t=h("m-svg-icon"),c=h("m-popover");return i(),u("div",Se,[s(c,{class:"flex items-center",placement:"top-left"},{reference:f(()=>[n("div",De,[s(t,{name:"guide",class:"w-3 h-3",fillClass:`fill-zinc-900 
                    dark:fill-zinc-200 group-hover:fill-main`})])]),default:f(()=>[n("div",Ve,[n("div",{class:"flex items-center p-1 cursor-pointer rounded hover:bg-zinc-100/60 dark:hover:bg-zinc-800",onClick:l},[s(t,{name:"feedback",class:"w-1.5 h-1.5 mr-1",fillClass:"fill-zinc-900 dark:fill-zinc-300"}),r[0]||(r[0]=n("span",{class:"text-zinc-800 dark:text-zinc-500 text-xm"},"查看我",-1))])])]),_:1}),s(c,{class:"flex items-center",placement:"top-left"},{reference:f(()=>[n("div",Le,[s(t,{name:"feedback",class:"w-3 h-3",fillClass:`fill-zinc-900 
                    dark:fill-zinc-200 group-hover:fill-main`})])]),default:f(()=>[n("div",He,[n("div",{class:"flex items-center p-1 cursor-pointer rounded hover:bg-zinc-100/60 dark:hover:bg-zinc-800",onClick:o},[s(t,{name:"feedback",class:"w-1.5 h-1.5 mr-1",fillClass:"fill-zinc-900 dark:fill-zinc-300"}),r[1]||(r[1]=n("span",{class:"text-zinc-800 dark:text-zinc-500 text-xm"},"联系我",-1))])])]),_:1})])}}},Ee={class:"h-screen"},Me={class:"h-main"},qe={__name:"index",setup(a){return(l,o)=>(i(),u("div",Ee,[s(Ce,{class:"h-header"}),n("div",Me,[s(Te)]),s(Ie)]))}};export{qe as default};
